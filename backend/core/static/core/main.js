(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,n,t){e.exports={"input-hidden":"ImageLoader_input-hidden__2Ealt",container:"ImageLoader_container__2uz0A","image-container":"ImageLoader_image-container__Ngzi_",image:"ImageLoader_image__FeJHk",label:"ImageLoader_label__2Y4e5"}},102:function(e,n,t){e.exports={container:"Button_container__26oXO",content:"Button_content__1nw0d",container_success:"Button_container_success__3BibP",container_disabled:"Button_container_disabled__X4P1E"}},104:function(e,n,t){e.exports={container:"ColorPicker_container__3nROJ","color-sample":"ColorPicker_color-sample__1M4gk"}},105:function(e,n,t){e.exports={container:"SelectedColors_container__30E62","color-sample":"SelectedColors_color-sample__2xS-Q"}},106:function(e,n,t){e.exports={body:"Layout_body__9FaYt","selected-colors":"Layout_selected-colors__2X3fK","upload-button":"Layout_upload-button__20JXE"}},109:function(e,n,t){e.exports=t(288)},114:function(e,n,t){},288:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(93),c=t.n(r),l=(t(114),t(12)),i=t(94),s=t(10),u=t(96),d=t(36),m=t(15),p=t(97),_=t.n(p).a.get("csrftoken"),f=function(e){return function(n){n({type:"UPLOAD_IMAGE"}),function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch(e,{method:"POST",headers:Object(m.a)({},t,{"X-CSRFToken":_}),body:n})}("/core/process/?param=file",e).then(function(e){return e.text()}).then(function(e){n(function(e){return function(n){n({type:"SET_ID",payload:e})}}(e)),n({type:"UPLOAD_IMAGE_SUCCESS"})}).catch(function(e){console.log("error"),n({type:"UPLOAD_IMAGE_ERROR",payload:e})})}},g={currentColor:{r:241,g:201,b:255,a:1},selectedColors:[]},b={id:null,image:null},v=Object(l.combineReducers)({colors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"CHANGE_CURRENT_COLOR":return Object(m.a)({},e,{currentColor:a});case"ADD_COLOR":var o=e.selectedColors.map(function(e){return JSON.stringify(e)}),r=Object(d.a)(e.selectedColors);return o.includes(JSON.stringify(a))||r.push(a),{currentColor:e.currentColor,selectedColors:r};default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"SET_ID":return Object(m.a)({},e,{id:a});case"SET_IMAGE":return Object(m.a)({},e,{image:a});default:return e}}});function C(e,n){return function(e,n){var t=Object.keys(n).map(function(t){var a=n[t];return!1===a||void 0===a?"":!0===a?"".concat(e,"_").concat(t):"".concat(e,"_").concat(t,"_").concat(a)}).filter(function(e){return e.length});return[e].concat(Object(d.a)(t))}(n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).map(function(n){return e[n]}).join(" ")}var E=function(e){return function(n,t){return C(e,n,t)}},h=t(56),O=t.n(h),y=E(O.a),N=function(e){var n=e.title;return o.a.createElement("div",{className:O.a.container},o.a.createElement("div",{className:y("title")},n))},j=t(98),k=t(99),w=t(107),L=t(100),A=t(108),I=t(101),S=E(t.n(I).a),R=function(e){function n(){var e,t;Object(j.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=Object(w.a)(this,(e=Object(L.a)(n)).call.apply(e,[this].concat(o)))).state={imageUrl:null},t.handleChange=function(e){t.setState({imageUrl:URL.createObjectURL(e.target.files[0])}),t.props.setImage(e.target.files[0])},t.handleUpload=function(){var e=new FormData;e.append("image",t.state.image),t.props.uploadImage(e).then(function(){t.props.uploadColors()})},t}return Object(A.a)(n,e),Object(k.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("input",{type:"file",accept:"image/*",id:"imageLoader",onChange:this.handleChange,className:S("input-hidden")}),o.a.createElement("div",{className:S("container")},o.a.createElement("label",{htmlFor:"imageLoader",className:S("label")},"Choose image"),this.state.imageUrl&&o.a.createElement("div",{className:S("image-container")},o.a.createElement("img",{src:this.state.imageUrl,alt:"failed to render image",className:S("image")}))))}}]),n}(a.Component),U=Object(s.b)(null,function(e){return{setImage:function(n){e(function(e){return function(n){n({type:"SET_IMAGE",payload:e})}}(n))}}})(R),D=t(35),T=t(102),x=E(t.n(T).a),P=function(e){var n=e.content,t=e.onClick,a=void 0===t?D.noop:t,r=e.containerClassName,c=void 0===r?"":r,l=e.contentClassName,i=void 0===l?"":l,s=e.disabled,u=e.success;return o.a.createElement("div",{className:"".concat(x("container",{disabled:s,success:u})," ").concat(c),onClick:a},o.a.createElement("div",{className:"".concat(x("content")," ").concat(i)},n))},G=t(103),J=t(104),B=E(t.n(J).a),H=Object(s.b)(function(e){var n=e.colors;return{currentColor:n.currentColor,colors:n}},function(e){return{changeCurrentColor:function(n){var t=n.r,a=n.g,o=n.b,r=n.a;e(function(e,n,t,a){return function(o){o({type:"CHANGE_CURRENT_COLOR",payload:{r:e,g:n,b:t,a:a}})}}(t,a,o,r))},addColor:function(n){var t=n.r,a=n.g,o=n.b,r=n.a;e(function(e,n,t,a){return function(o){o({type:"ADD_COLOR",payload:{r:e,g:n,b:t,a:a}})}}(t,a,o,r))}}})(function(e){var n=e.currentColor,t=e.changeCurrentColor,a=e.addColor,r=(e.colors,"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,",\n    ").concat(n.a,")"));return o.a.createElement("div",{className:B("container")},o.a.createElement("div",null,o.a.createElement(G.ChromePicker,{color:n,onChange:function(e){t(e.rgb)}})),o.a.createElement("div",{className:B("color-sample"),style:{backgroundColor:r}}),o.a.createElement("div",null,o.a.createElement(P,{content:"Add color",onClick:function(){a(n)}})))}),M=t(105),F=E(t.n(M).a),X=Object(s.b)(function(e){return{selectedColors:e.colors.selectedColors}})(function(e){var n=e.selectedColors;return o.a.createElement("div",{className:F("container")},n.map(function(e,n){var t="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,",\n        ").concat(e.a,")");return o.a.createElement("div",{className:F("color-sample"),style:{backgroundColor:t},key:n})}))}),W=t(106),z=E(t.n(W).a),Y=Object(s.b)(function(e){var n=e.colors,t=e.app;return{colors:n.selectedColors,image:t.image}},function(e){return{uploadImageAndColors:function(n){return e(f(n))}}})(function(e){var n=e.colors,t=e.image,a=e.uploadImageAndColors,r=!(n.length>1&&t);return o.a.createElement("div",null,o.a.createElement(N,{title:"Awesome Stencil"}),o.a.createElement("div",{className:z("body")},o.a.createElement("div",{className:z("image-loader")},o.a.createElement(U,null)),o.a.createElement("div",{className:z("selected-colors")},o.a.createElement(X,null)),o.a.createElement("div",{className:z("color-picker")},o.a.createElement(H,null)),o.a.createElement("div",{className:z("upload-button")},o.a.createElement(P,{content:"upload",onClick:r?D.noop:function(){var e=new FormData;e.append("image",t),e.append("colors",JSON.stringify(n)),console.log(n),a(e)},disabled:r,success:!r}))))}),K=Object(l.createStore)(v,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(i.a))),Q=function(){return o.a.createElement(s.a,{store:K},o.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,n,t){e.exports={container:"Header_container__1HTwf",title:"Header_title__2HOUG"}}},[[109,2,1]]]);